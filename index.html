<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <title>歌單查詢</title>
  <style>
    body { font-family: system-ui, sans-serif; background: #0f172a; color: #f1f5f9; margin: 0; padding: 20px; }
    h1 { font-size: 24px; }
    input { padding: 8px; width: 100%; max-width: 400px; border-radius: 6px; border: none; }
    .list { margin-top: 20px; display: grid; gap: 10px; }
    .card { background: #1e293b; padding: 12px; border-radius: 8px; }
    .title { font-weight: bold; }
    .artist { color: #93c5fd; }
  </style>
</head>
<body>
  <h1>歌單查詢</h1>
  <input id="q" type="text" placeholder="輸入關鍵字或用 artist:周 / title:七里 查詢">
  <div id="list" class="list"></div>

<script>
  // === 在這裡編輯你的歌單 ===
  const DATA = [
    { title: '人間', artist: '王菲' },
    { title: '特務J', artist: '蔡依林' },
    { title: '別嚷', artist: '黃霄雲' },
    { title: '刻心痕', artist: '謝宜君' },
    { title: '給我一個理由忘記', artist: 'A-Lin 黃麗玲' },
    { title: '多想留在你身邊', artist: '劉增瞳' },
    { title: '接受', artist: '梁靜茹' },
    { title: '求佛', artist: '吳曉娜' },
    { title: '不敢聽的歌', artist: '李千娜' },
    { title: '大眠', artist: '王心凌' },
    { title: '別再撐了', artist: '安心亞' },
    { title: '忽遠忽近', artist: '九姨太' },
    { title: '左邊', artist: '楊丞琳' },
    { title: '第一次和聲版 (天籟的聲音)', artist: '房東的貓' },
    { title: '我認', artist: '戴羽彤' },
    { title: '可以不是你', artist: '戴羽彤' },
    { title: '頭號甜心', artist: '張韶涵' },
    { title: '(Daphne漁夫帽改) 分分鐘需要你', artist: '林一' },
    { title: '愛你', artist: '王心凌' },
    { title: 'Honey', artist: '王心凌' },
    { title: '慢冷', artist: '梁靜茹' },
    { title: '寵愛', artist: 'TFBOYS' },
    { title: '分分鐘需要你', artist: '林一' },
    { title: '(漁夫帽Daphne改) 分分鐘需要你', artist: '林一' },
    { title: '塵埃', artist: '容祖兒' },
    { title: '佐手回憶佑手你', artist: '沈末' },
    { title: '瀟灑小姐 (short)', artist: '蕭亞軒' }
  ];
  // ===========================

  const $ = (sel) => document.querySelector(sel);
  const norm = (s) => (s||'').toLowerCase();

  function parseQuery(q){
    const filters = { title:[], artist:[], any:[] };
    q.split(/\s+/).forEach(t=>{
      const m = t.match(/^(title|artist):(.+)$/i);
      if(m) filters[m[1].toLowerCase()].push(m[2]);
      else if(t) filters.any.push(t);
    });
    return filters;
  }

  function matches(song, f){
    const hay = {title:norm(song.title), artist:norm(song.artist), any:norm(song.title+' '+song.artist)};
    const ok=(arr,key)=> arr.length===0||arr.every(t=>hay[key].includes(norm(t)));
    return ok(f.title,'title') && ok(f.artist,'artist') && ok(f.any,'any');
  }

  function render(){
    const q = $('#q').value.trim();
    const f = parseQuery(q);
    const rows = DATA.filter(s=>matches(s,f));
    $('#list').innerHTML = rows.map(s=>`
      <div class="card">
        <div class="title">${s.title}</div>
        <div class="artist">${s.artist}</div>
      </div>`).join('') || '<div>沒有符合的歌曲。</div>';
  }

  $('#q').addEventListener('input', render);
  render();
</script>
</body>
</html>

